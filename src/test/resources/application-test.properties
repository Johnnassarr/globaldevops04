# Configuração de Testes - Usa PostgreSQL via variáveis de ambiente
# As variáveis são definidas na pipeline via container PostgreSQL
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/ecotask_test}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres}

# Flyway habilitado para criar schema nos testes
spring.flyway.baseline-on-migrate=true
spring.flyway.out-of-order=true

# Desabilita RabbitMQ nos testes
spring.rabbitmq.listener.simple.auto-startup=false

# Configurações de segurança para testes
api.security.token.secret=test-secret-key

# Cache habilitado nos testes
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=100,expireAfterWrite=5m

